<ul class="de-tabs">
  <li class="params" [class.active]="tab === 1" (click)="tab = 1">
    <span>{{ thelang.words["users-tab-main"] }}</span>
  </li>
  <li class="money" [class.active]="tab === 2" (click)="tab = 2">
    <span>{{ thelang.words["users-tab-finances"] }}</span>
  </li>
  <li class="tg" [class.active]="tab === 3" (click)="tab = 3">
    <span>{{ thelang.words["users-tab-tg"] }}</span>
  </li>
</ul>

<!-- tab 1 -->
<ng-container *ngIf="tab === 1">
  <div class="de-head b-margined3">{{ thelang.words["users-tab-main"] }}</div>
  <div class="generic-form">
    <div class="gf-param b-margined3" *ngIf="x.id">
      <div class="gfp-title b-margined1"><label>ID</label></div>
      <div class="gfp-inputwrap">
        <input class="small" type="text" [value]="x.id" disabled />
      </div>
    </div>
    <div class="gf-param b-margined3" *ngIf="x.id">
      <div class="gfp-title b-margined1"><label>UUID</label></div>
      <div class="gfp-inputwrap">
        <input type="text" [value]="x.uuid" disabled />
      </div>
    </div>
    <div class="gf-param b-margined3" *ngIf="x.id">
      <div class="gfp-title b-margined1">
        <label>{{ thelang.words["users-created-at"] }}</label>
      </div>
      <div class="gfp-inputwrap">
        <input
          type="text"
          [value]="x.formattedDate('created_at', true)"
          disabled
        />
      </div>
    </div>
    <div class="gf-param b-margined3">
      <div class="gfp-title b-margined1">
        <label [class.required]="isRequired('email')">{{
          thelang.words["users-email"]
        }}</label>
      </div>
      <div class="gfp-inputwrap">
        <input
          type="email"
          [(ngModel)]="x.email"
          [class.error]="errors.email"
        />
      </div>
      <div class="gfp-error" *ngIf="errors.email">
        {{ thelang.words[errors.email] }}
      </div>
    </div>
    <div class="gf-param b-margined3">
      <div class="gfp-title b-margined1">
        <label [class.required]="isRequired('password')">{{
          thelang.words["users-password"]
        }}</label>
      </div>
      <div class="gfp-inputwrap">
        <input
          type="password"
          [(ngModel)]="x.password"
          [placeholder]="x.id ? thelang.words['users-password-ph'] : ''"
          [class.error]="errors.password"
        />
      </div>
      <div class="gfp-error" *ngIf="errors.password">
        {{ thelang.words[errors.password] }}
      </div>
    </div>
    <div class="gf-param b-margined3">
      <div class="gfp-title b-margined1">
        <label [class.required]="isRequired('lang_id')">{{
          thelang.words["users-lang"]
        }}</label>
      </div>
      <div class="gfp-inputwrap">
        <div class="inputwithbtns">
          <select-simple
            [(value)]="x.lang_id"
            field="title"
            entity="lang"
            [useSearch]="false"
            [useNull]="false"
            [error]="errors.lang_id"
          ></select-simple>
          <div *ngIf="x.lang_id" class="iwb-btns">
            <a
              class="roundbtn link"
              target="_blank"
              href="/localization/langs/edit/{{ x.lang_id }}"
              ><span></span
            ></a>
          </div>
        </div>
      </div>
      <div class="gfp-error" *ngIf="errors.lang_id">
        {{ thelang.words[errors.lang_id] }}
      </div>
    </div>
    <div class="gf-param b-margined3">
      <div class="gfp-title b-margined1">
        <label [class.required]="isRequired('parent_id')">{{
          thelang.words["users-parent"]
        }}</label>
      </div>
      <div class="gfp-inputwrap">
        <div class="inputwithbtns">
          <select-simple
            [(value)]="x.parent_id"
            field="email"
            entity="user"
            [cantSelectByArray]="[x.id]"
            [useSearch]="true"
            [useNull]="true"
            [error]="errors.parent_id"
          ></select-simple>
          <div *ngIf="x.parent_id" class="iwb-btns">
            <a
              class="roundbtn link"
              target="_blank"
              href="/users/edit/{{ x.parent_id }}"
              ><span></span
            ></a>
          </div>
        </div>
      </div>
      <div class="gfp-error" *ngIf="errors.parent_id">
        {{ thelang.words[errors.parent_id] }}
      </div>
    </div>
    <div class="gf-param b-margined3">
      <div class="gfp-title b-margined1">
        <label [class.required]="isRequired('referrer_id')">{{
          thelang.words["users-referrer"]
        }}</label>
      </div>
      <div class="gfp-inputwrap">
        <div class="inputwithbtns">
          <select-simple
            [(value)]="x.referrer_id"
            field="email"
            entity="user"
            [cantSelectByArray]="[x.id]"
            [useSearch]="true"
            [useNull]="true"
            [error]="errors.referrer_id"
          ></select-simple>
          <div *ngIf="x.referrer_id" class="iwb-btns">
            <a
              class="roundbtn link"
              target="_blank"
              href="/users/edit/{{ x.referrer_id }}"
              ><span></span
            ></a>
          </div>
        </div>
      </div>
      <div class="gfp-error" *ngIf="errors.referrer_id">
        {{ thelang.words[errors.referrer_id] }}
      </div>
    </div>
    <div class="gf-param b-margined3">
      <div class="gfp-title b-margined1">
        <label [class.required]="isRequired('name')">{{
          thelang.words["users-name"]
        }}</label>
      </div>
      <div class="gfp-inputwrap">
        <input type="text" [(ngModel)]="x.name" [class.error]="errors.name" />
      </div>
      <div class="gfp-error" *ngIf="errors.name">
        {{ thelang.words[errors.name] }}
      </div>
    </div>
    <div class="gf-param b-margined3">
      <div class="gfp-title b-margined1">
        <label [class.required]="isRequired('wallet')">{{
          thelang.words["users-wallet"]
        }}</label>
      </div>
      <div class="gfp-inputwrap">
        <input
          type="text"
          [(ngModel)]="x.wallet"
          [class.error]="errors.wallet"
        />
      </div>
      <div class="gfp-error" *ngIf="errors.wallet">
        {{ thelang.words[errors.wallet] }}
      </div>
    </div>
    <div class="gf-param b-margined3">
      <div class="gfp-title b-margined1">
        <label [class.required]="isRequired('img')">{{
          thelang.words["users-img"]
        }}</label>
      </div>
      <div class="gfp-inputwrap">
        <image-picker
          folder="users"
          [(img)]="x.img"
          [error]="errors.img"
        ></image-picker>
      </div>
      <div class="gfp-error" *ngIf="errors.img">
        {{ thelang.words[errors.img] }}
      </div>
    </div>
    <div class="gf-param b-margined3">
      <div class="gfp-title b-margined1">
        <label>{{ thelang.words["users-tz"] }}</label>
      </div>
      <div class="gfp-inputwrap">
        <div class="selectwrap">
          <select [(ngModel)]="x.tz">
            <option *ngFor="let tz of timezones" [ngValue]="tz.offset">
              {{ tz.title }}
            </option>
          </select>
        </div>
      </div>
    </div>
    <div class="gf-param">
      <div class="gfp-title b-margined1">
        <label>{{ thelang.words["users-active"] }}</label>
      </div>
      <div class="gfp-inputwrap">
        <check-box [(value)]="x.active"></check-box>
      </div>
    </div>
  </div>
</ng-container>

<!-- tab 2 -->
<ng-container *ngIf="tab === 2">
  <div class="de-head b-margined3">
    {{ thelang.words["users-tab-finances"] }}
  </div>
  <div class="generic-form">
    <div class="gf-param b-margined3">
      <div class="gfp-title b-margined1">
        <label>{{ thelang.words["users-money"] }}</label>
      </div>
      <div class="gfp-inputwrap">
        <input type="number" class="small" [(ngModel)]="x.money" />
      </div>
    </div>
    <div class="gf-param b-margined3">
      <div class="gfp-title b-margined1">
        <label>{{ thelang.words["users-paid-at"] }}</label>
      </div>
      <div class="gfp-inputwrap">
        <timestamp-picker
          [(value)]="x.paid_at"
          [resetable]="true"
          [resetvalue]="null"
        ></timestamp-picker>
      </div>
    </div>
    <div class="gf-param b-margined3">
      <div class="gfp-title b-margined1">
        <label>{{ thelang.words["users-paid-until"] }}</label>
      </div>
      <div class="gfp-inputwrap">
        <timestamp-picker
          [(value)]="x.paid_until"
          [resetable]="true"
          [resetvalue]="null"
        ></timestamp-picker>
      </div>
    </div>
    <div class="gf-param b-margined3">
      <div class="gfp-title b-margined1">
        <label>{{ thelang.words["users-children-limit"] }}</label>
      </div>
      <div class="gfp-inputwrap">
        <input type="number" class="small" [(ngModel)]="x.children_limit" />
      </div>
    </div>
    <!-- <div class="gf-param b-margined3">
      <div class="gfp-title b-margined1">
        <label>{{ thelang.words["users-freetasks"] }}</label>sdfsdf
      </div>
      <div class="gfp-inputwrap">
        <input type="number" class="small" [(ngModel)]="x.freetasks" />
      </div>
    </div> -->
    <div class="gf-param b-margined3">
      <div class="gfp-title b-margined1">
        <label>{{ thelang.words["users-freetask-viewed-at"] }}</label>
      </div>
      <div class="gfp-inputwrap">
        <timestamp-picker
          [(value)]="x.freetask_viewed_at"
          [resetable]="true"
          [resetvalue]="null"
        ></timestamp-picker>
      </div>
    </div>
    <div class="gf-param b-margined3">
      <div class="gfp-title b-margined1">
        <label>{{ thelang.words["users-referral-sub-percent"] }}</label>
      </div>
      <div class="gfp-inputwrap">
        <input type="number" class="small" [(ngModel)]="x.referral_percent" />
      </div>
    </div>
    <div class="gf-param b-margined3">
      <div class="gfp-title b-margined1">
        <label>{{ thelang.words["users-referral-buy-percent"] }}</label>
      </div>
      <div class="gfp-inputwrap">
        <input
          type="number"
          class="small"
          [(ngModel)]="x.referral_buy_percent"
        />
      </div>
    </div>
    <div class="gf-param">
      <div class="gfp-title b-margined1">
        <label>{{ thelang.words["users-points"] }}</label>
      </div>
      <div class="gfp-inputwrap">
        <input type="number" class="small" [(ngModel)]="x.points" />
      </div>
    </div>
  </div>
</ng-container>

<!-- tab 3 -->
<ng-container *ngIf="tab === 3">
  <div class="de-head b-margined3">{{ thelang.words["users-tab-tg"] }}</div>
  <div class="generic-form">
    <div class="gf-param b-margined3">
      <div class="gfp-title b-margined1">
        <label>{{ thelang.words["users-tg-id"] }}</label>
      </div>
      <div class="gfp-inputwrap">
        <input type="number" [(ngModel)]="x.tg_id" />
      </div>
    </div>
    <div class="gf-param b-margined3">
      <div class="gfp-title b-margined1">
        <label>{{ thelang.words["users-tg-active"] }}</label>
      </div>
      <div class="gfp-inputwrap">
        <check-box [(value)]="x.tg_active"></check-box>
      </div>
    </div>
    <div class="gf-param b-margined3">
      <div class="gfp-title b-margined1">
        <label>{{ thelang.words["users-tg-tasks"] }}</label>
      </div>
      <div class="gfp-inputwrap">
        <check-box [(value)]="x.tg_tasks"></check-box>
      </div>
    </div>
    <div class="gf-param b-margined3">
      <div class="gfp-title b-margined1">
        <label>{{ thelang.words["users-tg-guides"] }}</label>
      </div>
      <div class="gfp-inputwrap">
        <check-box [(value)]="x.tg_guides"></check-box>
      </div>
    </div>
    <div class="gf-param b-margined3">
      <div class="gfp-title b-margined1">
        <label>{{ thelang.words["users-tg-articles"] }}</label>
      </div>
      <div class="gfp-inputwrap">
        <check-box [(value)]="x.tg_articles"></check-box>
      </div>
    </div>
    <div class="gf-param b-margined3">
      <div class="gfp-title b-margined1">
        <label>{{ thelang.words["users-tg-deadlines"] }}</label>
      </div>
      <div class="gfp-inputwrap">
        <check-box [(value)]="x.tg_deadlines"></check-box>
      </div>
    </div>
    <div class="gf-param">
      <div class="gfp-title b-margined1">
        <label [class.required]="isRequired('tg_invite')">{{
          thelang.words["users-tg-invite"]
        }}</label>
      </div>
      <div class="gfp-inputwrap">
        <input
          type="text"
          [(ngModel)]="x.tg_invite"
          [class.error]="errors.tg_invite"
        />
      </div>
      <div class="gfp-error" *ngIf="errors.tg_invite">
        {{ thelang.words[errors.tg_invite] }}
      </div>
    </div>
  </div>
</ng-container>
